"use strict";(function(n,t){if(typeof define=="function"&&define.amd)define(["angular","ckeditor"],function(n){return t(n)});else return t(n)})(angular||null,function(n){var t=n.module("ngCkeditor",[]),i,r=!1;return t.run(["$q","$timeout",function(t,u){function f(){CKEDITOR.status==="loaded"?(r=!0,i.resolve()):f()}if(i=t.defer(),n.isUndefined(CKEDITOR))throw new Error("CKEDITOR not found");CKEDITOR.disableAutoInline=!0;CKEDITOR.on("loaded",f);u(f,100)}]),t.directive("ckeditor",["$timeout","$q",function(t,u){return{restrict:"AC",require:["ngModel","^?form"],scope:!1,link:function(f,e,o,s){var h=s[0],v=s[1]||null,p="",y=e[0].tagName.toLowerCase()==="textarea",c=[],l=!1,a;y||e.attr("contenteditable",!0);a=function(){var s={toolbar:"full",toolbar_full:[{name:"basicstyles",items:["Bold","Italic","Strike","Underline"]},{name:"paragraph",items:["BulletedList","NumberedList","Blockquote"]},{name:"editing",items:["JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"]},{name:"links",items:["Link","Unlink","Anchor"]},{name:"tools",items:["SpellChecker","Maximize"]},"/",{name:"styles",items:["Format","FontSize","TextColor","PasteText","PasteFromWord","RemoveFormat"]},{name:"insert",items:["Image","Table","SpecialChar"]},{name:"forms",items:["Outdent","Indent"]},{name:"clipboard",items:["Undo","Redo"]},{name:"document",items:["PageBreak","Source"]}],disableNativeSpellChecker:!1,uiColor:"#FAFAFA",height:"400px",width:"100%"},i,w,r,a;s=n.extend(s,f[o.ckeditor]);i=y?CKEDITOR.replace(e[0],s):CKEDITOR.inline(e[0],s);w=u.defer();e.bind("$destroy",function(){i&&CKEDITOR.instances[i.name]&&CKEDITOR.instances[i.name].destroy()});r=function(n){var r=i.getData();r===""&&(r=null);t(function(){(n!==!0||r!==h.$viewValue)&&h.$setViewValue(r);n===!0&&v&&v.$setPristine()},0)};a=function(n){if(c.length){var t=c.pop()||p;l=!1;i.setData(t,function(){r(n);l=!0})}};i.on("change",r);i.on("blur",r);i.on("instanceReady",function(){f.$broadcast("ckeditor.ready");f.$apply(function(){a(!0)});i.document.on("keyup",r)});i.on("customConfigLoaded",function(){w.resolve()});h.$render=function(){c.push(h.$viewValue);l&&a()}};CKEDITOR.status==="loaded"&&(r=!0);r?a():i.promise.then(a)}}}]),t});
//# sourceMappingURL=ng-ckeditor.min.js.map
